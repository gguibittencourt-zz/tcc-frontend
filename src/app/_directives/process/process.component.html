<h1 mat-dialog-title>Hi {{data.name}}</h1>
<div mat-dialog-content>
	<div class="process">
		<div class="process-header">
			<div class="process-header-title">
				<div class="process-header-title-spacer">Process</div>
				<button mat-icon-button type="button" (click)="addKnowledgeArea()" class="mat-icon-button">
			<span class="mat-button-wrapper">
				<mat-icon class="mat-icon material-icons">
					<i class="fa fa-plus"></i>
				</mat-icon>
			</span>
				</button>
			</div>
		</div>
		<div class="process-body">
			<mat-accordion>
				<mat-expansion-panel *ngFor="let knowledgeArea of knowledgeAreas; let i = index"
									 [expanded]="mapCloseAccordion.get(i)">
					<mat-expansion-panel-header ngClass="{{mapCloseAccordion.get(i) ? 'not-active' : ''}}">
						<input matInput value="{{knowledgeArea.name}}" disabled placeholder="Knowledge Area"/>
						<button mat-icon-button type="button" (click)="deleteKnowledgeArea(i)"
								class="mat-icon-button active">
							<mat-icon class="mat-icon material-icons">
								<i class="fa fa-remove"></i>
							</mat-icon>
						</button>
					</mat-expansion-panel-header>

					<form [formGroup]="getKnowledgeAreaForm(i)" (ngSubmit)="confirmKnowledgeArea(i)">
						<mat-panel-title class="padding-top">
							<mat-form-field>
								<input matInput formControlName="name"
									   (change)="formChange(i)" placeholder="Name"/>
							</mat-form-field>
						</mat-panel-title>
						<mat-form-field class="padding-top">
							<input matInput formControlName="purpose"
								   (change)="formChange(i)"
								   placeholder="Purpose"/>
						</mat-form-field>
						<button mat-raised-button (click)="openDialog(i)"
								class="btn btn-toolbar">
							Processes
						</button>
						<mat-action-row class="action-row">
							<button mat-raised-button [disabled]="loading" class="btn btn-primary confirm-button">
								Confirm
							</button>
							<button mat-raised-button [disabled]="loading" (click)="cancelKnowledgeArea(i)"
									class="btn btn-danger">
								Cancel
							</button>
						</mat-action-row>
					</form>
				</mat-expansion-panel>
			</mat-accordion>
		</div>
	</div>
</div>
<div mat-dialog-actions>
	<button mat-button (click)="onNoClick()">No Thanks</button>
	<button mat-button [mat-dialog-close]="data.animal" cdkFocusInitial>Ok</button>
</div>
